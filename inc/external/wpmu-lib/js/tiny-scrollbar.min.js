/*! WPMU Dev code library - v1.0.17
 * http://premium.wpmudev.org/
 * Copyright (c) 2014; * Licensed GPLv2+ */
!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){"use strict";function e(e,n){function o(){return d.update(),r(),d}function a(){v.css(x,d.contentPosition/d.trackRatio),f.css(x,-d.contentPosition),g.css(y,d.trackSize),m.css(y,d.trackSize),v.css(y,d.thumbSize)}function r(){S?p[0].ontouchstart=function(t){1===t.touches.length&&(t.stopPropagation(),c(t.touches[0]))}:(v.bind("mousedown",c),m.bind("mousedown",h)),t(window).resize(function(){d.update("relative")}),d.options.wheel&&window.addEventListener?e[0].addEventListener(C,l,!1):d.options.wheel&&(e[0].onmousewheel=l)}function c(e){t("body").addClass("noSelect"),w=b?e.pageX:e.pageY,d.thumbPosition=parseInt(v.css(x),10)||0,S?(document.ontouchmove=function(t){t.preventDefault(),h(t.touches[0])},document.ontouchend=u):(t(document).bind("mousemove",h),t(document).bind("mouseup",u),v.bind("mouseup",u))}function l(s){if(1>d.contentRatio){var i=s||window.event,n="delta"+d.options.axis.toUpperCase(),o=-(i[n]||i.detail||-1/3*i.wheelDelta)/40;d.contentPosition-=o*d.options.wheelSpeed,d.contentPosition=Math.min(d.contentSize-d.viewportSize,Math.max(0,d.contentPosition)),e.trigger("move"),v.css(x,d.contentPosition/d.trackRatio),f.css(x,-d.contentPosition),(d.options.wheelLock||d.contentPosition!==d.contentSize-d.viewportSize&&0!==d.contentPosition)&&(i=t.event.fix(i),i.preventDefault())}}function h(t){if(1>d.contentRatio){var s=b?t.pageX:t.pageY,i=s-w;d.options.scrollInvert&&S&&(i=w-s);var n=Math.min(d.trackSize-d.thumbSize,Math.max(0,d.thumbPosition+i));d.contentPosition=n*d.trackRatio,e.trigger("move"),v.css(x,n),f.css(x,-d.contentPosition)}}function u(){t("body").removeClass("noSelect"),t(document).unbind("mousemove",h),t(document).unbind("mouseup",u),v.unbind("mouseup",u),document.ontouchmove=document.ontouchend=null}this.options=t.extend({},i,n),this._defaults=i,this._name=s;var d=this,p=e.find(".viewport"),f=e.find(".overview"),g=e.find(".scrollbar"),m=g.find(".track"),v=g.find(".thumb"),w=0,b="x"===this.options.axis,S="ontouchstart"in document.documentElement,C="onwheel"in document||document.documentMode>=9?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",y=b?"width":"height",x=b?"left":"top";return this.contentPosition=0,this.viewportSize=0,this.contentSize=0,this.contentRatio=0,this.trackSize=0,this.trackRatio=0,this.thumbSize=0,this.thumbPosition=0,this.update=function(t){var e=y.charAt(0).toUpperCase()+y.slice(1).toLowerCase();switch(this.viewportSize=p[0]["offset"+e],this.contentSize=f[0]["scroll"+e],this.contentRatio=this.viewportSize/this.contentSize,this.trackSize=this.options.trackSize||this.viewportSize,this.thumbSize=Math.min(this.trackSize,Math.max(0,this.options.thumbSize||this.trackSize*this.contentRatio)),this.trackRatio=this.options.thumbSize?(this.contentSize-this.viewportSize)/(this.trackSize-this.thumbSize):this.contentSize/this.trackSize,g.toggleClass("disable",this.contentRatio>=1),t){case"bottom":this.contentPosition=this.contentSize-this.viewportSize;break;case"relative":this.contentPosition=Math.min(Math.max(this.contentSize-this.viewportSize,0),Math.max(0,this.contentPosition));break;default:this.contentPosition=parseInt(t,10)||0}return a(),d},o()}var s="tinyscrollbar",i={axis:"y",wheel:!0,wheelSpeed:40,wheelLock:!0,scrollInvert:!1,trackSize:!1,thumbSize:!1};t.fn[s]=function(i){return this.each(function(){t.data(this,"plugin_"+s)||t.data(this,"plugin_"+s,new e(t(this),i))})}});