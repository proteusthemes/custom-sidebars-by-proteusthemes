/**
 * @license almond 0.3.2 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */

/*! WPMU Dev code library - v1.0.17
 * http://premium.wpmudev.org/
 * Copyright (c) 2014; * Licensed GPLv2+ */

/*!
 * WPMU Dev UI library
 * (Philipp Stracker for WPMU Dev)
 *
 * This library provides a Javascript API via the global wpmUi object.
 *
 * @version  1.0.0
 * @author   Philipp Stracker for WPMU Dev
 * @link     http://appendto.com/2010/10/how-good-c-habits-can-encourage-bad-javascript-habits-part-1/
 * @requires jQuery
 */

/*! Custom Sidebars Free - v2.1.02
 * http://premium.wpmudev.org/project/the-pop-over-plugin/
 * Copyright (c) 2015; * Licensed GPLv2+ */

!function(){function e(e){e=e.replace(/^\s\s*/,"");for(var t=e.length-1;t>=0;t--)if(/\S/.test(e.charAt(t))){e=e.substring(0,t+1);break}return e}function t(t,i){var n;this.id=t.split("%").join("\\%"),this.type=i,this.sb=jQuery("#"+this.id),this.widgets="",this.name=e(this.sb.find(".sidebar-name h2").text()),this.description=e(this.sb.find(".sidebar-description").text()),n="custom"===i?window.csSidebars.extras.find(".cs-custom-sidebar").clone():window.csSidebars.extras.find(".cs-theme-sidebar").clone(),this.sb.parent().append(n),n.find("label").each(function(){var e=jQuery(this);window.csSidebars.addIdToLabel(e,t)})}var i,n,r;!function(e){function t(e,t){return y.call(e,t)}function a(e,t){var i,n,r,a,s,o,d,c,l,u,f,p,h=t&&t.split("/"),b=g.map,m=b&&b["*"]||{};if(e){for(e=e.split("/"),s=e.length-1,g.nodeIdCompat&&S.test(e[s])&&(e[s]=e[s].replace(S,"")),"."===e[0].charAt(0)&&h&&(p=h.slice(0,h.length-1),e=p.concat(e)),l=0;l<e.length;l++)if(f=e[l],"."===f)e.splice(l,1),l-=1;else if(".."===f){if(0===l||1===l&&".."===e[2]||".."===e[l-1])continue;l>0&&(e.splice(l-1,2),l-=2)}e=e.join("/")}if((h||m)&&b){for(i=e.split("/"),l=i.length;l>0;l-=1){if(n=i.slice(0,l).join("/"),h)for(u=h.length;u>0;u-=1)if(r=b[h.slice(0,u).join("/")],r&&(r=r[n])){a=r,o=l;break}if(a)break;!d&&m&&m[n]&&(d=m[n],c=l)}!a&&d&&(a=d,o=c),a&&(i.splice(0,o,a),e=i.join("/"))}return e}function s(t,i){return function(){var n=j.call(arguments,0);return"string"!=typeof n[0]&&1===n.length&&n.push(null),p.apply(e,n.concat([t,i]))}}function o(e){return function(t){return a(t,e)}}function d(e){return function(t){m[e]=t}}function c(i){if(t(v,i)){var n=v[i];delete v[i],w[i]=!0,f.apply(e,n)}if(!t(m,i)&&!t(w,i))throw new Error("No "+i);return m[i]}function l(e){var t,i=e?e.indexOf("!"):-1;return i>-1&&(t=e.substring(0,i),e=e.substring(i+1,e.length)),[t,e]}function u(e){return function(){return g&&g.config&&g.config[e]||{}}}var f,p,h,b,m={},v={},g={},w={},y=Object.prototype.hasOwnProperty,j=[].slice,S=/\.js$/;h=function(e,t){var i,n=l(e),r=n[0];return e=n[1],r&&(r=a(r,t),i=c(r)),r?e=i&&i.normalize?i.normalize(e,o(t)):a(e,t):(e=a(e,t),n=l(e),r=n[0],e=n[1],r&&(i=c(r))),{f:r?r+"!"+e:e,n:e,pr:r,p:i}},b={require:function(e){return s(e)},exports:function(e){var t=m[e];return"undefined"!=typeof t?t:m[e]={}},module:function(e){return{id:e,uri:"",exports:m[e],config:u(e)}}},f=function(i,n,r,a){var o,l,u,f,p,g,y=[],j=typeof r;if(a=a||i,"undefined"===j||"function"===j){for(n=!n.length&&r.length?["require","exports","module"]:n,p=0;p<n.length;p+=1)if(f=h(n[p],a),l=f.f,"require"===l)y[p]=b.require(i);else if("exports"===l)y[p]=b.exports(i),g=!0;else if("module"===l)o=y[p]=b.module(i);else if(t(m,l)||t(v,l)||t(w,l))y[p]=c(l);else{if(!f.p)throw new Error(i+" missing "+l);f.p.load(f.n,s(a,!0),d(l),{}),y[p]=m[l]}u=r?r.apply(m[i],y):void 0,i&&(o&&o.exports!==e&&o.exports!==m[i]?m[i]=o.exports:u===e&&g||(m[i]=u))}else i&&(m[i]=r)},i=n=p=function(t,i,n,r,a){if("string"==typeof t)return b[t]?b[t](i):c(h(t,i).f);if(!t.splice){if(g=t,g.deps&&p(g.deps,g.callback),!i)return;i.splice?(t=i,i=n,n=null):t=e}return i=i||function(){},"function"==typeof n&&(n=r,r=a),r?f(e,t,i,n):setTimeout(function(){f(e,t,i,n)},4),p},p.config=function(e){return p(e)},i._defined=m,r=function(e,i,n){if("string"!=typeof e)throw new Error("See almond README: incorrect module build, no module name");i.splice||(n=i,i=[]),t(m,e)||t(v,e)||(v[e]=[e,i,n])},r.amd={jQuery:!0}}(),r("bower_components/almond/almond",function(){}),r("jquery",[],function(){"use strict";return jQuery}),function(e){function t(){null===o&&(s=jQuery(document),o=jQuery("html"),d=jQuery("body"),r(),a(),d.hasClass("no-auto-init")||(e.upgrade_multiselect(),e.upgrade_tooltips()),e.binary=new f)}function i(){null===c&&(c=jQuery("<div></div>").addClass("wpmui-overlay").appendTo(d)),d.addClass("wpmui-has-overlay"),o.addClass("wpmui-no-scroll")}function n(){d.removeClass("wpmui-has-overlay"),o.removeClass("wpmui-no-scroll")}function r(){var e=function(e){var t=jQuery(this).closest(".wpmui-box");return e.preventDefault(),t.hasClass("static")?!1:(t.toggleClass("closed"),!1)};d.on("click",".wpmui-box > h3",e),d.on("click",".wpmui-box > h3 > .toggle",e)}function a(){var e=function(e){var t=jQuery(this),i=t.closest(".wpmui-tabs"),n=i.next(".wpmui-tab-contents"),r=i.find(".active.tab"),a=t.attr("href"),s=r.attr("href"),o=n.find(a),d=n.find(s);return t.hasClass("active")||(r.removeClass("active"),d.removeClass("active")),t.addClass("active"),o.addClass("active"),e.preventDefault(),!1};d.on("click",".wpmui-tabs .tab",e)}var s=null,o=null,d=null,c=null;e.popup=function(){return t(),new l},e.ajax=function(e,i){return t(),new u(e,i)},e.upgrade_multiselect=function(e){t(),e=jQuery(e||d);var i=e.find("select[multiple]"),n=e.find("input[data-select-ajax]"),r=function(e){var t=e.attr("id"),i="#s2id_"+t,n=e.parent().find(i);n.remove()},a=function(){var e=jQuery(this),t={closeOnSelect:!1,width:"100%"};"1"!==e.data("wpmui-select")&&(e.data("wpmui-select","1"),r(e),window.setTimeout(function(){e.select2(t)},1))},s=function(){var e=function(e){return e.val},t=function(e){return e.key},i=function(e,t){var i=e.val(),n=[],r=[];jQuery(i.split(",")).each(function(){var e=this.split("::");r.push(e[0]),n.push({key:e[0],val:e[1]})}),e.val(r.join(",")),t(n)},n=jQuery(this),a={closeOnSelect:!1,width:"100%",multiple:!0,minimumInputLength:1,ajax:{url:n.attr("data-select-ajax"),dataType:"json",quietMillis:100,cache:!0,data:function(e,t){return{q:e}},results:function(e,t){return{results:e.items}}},id:t,formatResult:e,formatSelection:e,initSelection:i};"1"!==n.data("wpmui-select")&&(n.data("wpmui-select","1"),r(n),window.setTimeout(function(){n.select2(a)},1))};"function"==typeof jQuery.fn.each2?(i.each2(a),n.each2(s)):(i.each(a),n.each(s))},e.message=function(e){var i,n,r,a;t();var s=function(e){return e.preventDefault(),n.remove(),!1},o=function(e){var t=jQuery(this).closest(".wpmui-msg");t.find(".debug").toggle()};return"undefined"==typeof e?!1:(("string"==typeof e||e instanceof Array)&&(e={message:e}),e.message instanceof Array&&(e.message=e.message.join("<br />")),e.message?(e.type=void 0===e.type?"ok":e.type.toString().toLowerCase(),e.close=void 0===e.close?!0:e.close,e.parent=void 0===e.parent?".wrap":e.parent,e.insert_after=void 0===e.insert_after?"h2":e.insert_after,e.id=void 0===e.id?"":e.id.toString().toLowerCase(),e["class"]=void 0===e["class"]?"":e["class"].toString().toLowerCase(),e.details=void 0===e.details?!1:e.details,("error"===e.type||"red"===e.type)&&(e.type="err"),("success"===e.type||"green"===e.type)&&(e.type="ok"),i=jQuery(e.parent).first(),i.length?(e.id&&jQuery('.wpmui-msg[data-id="'+e.id+'"]').length?(n=jQuery('.wpmui-msg[data-id="'+e.id+'"]').first(),a=!1):(n=jQuery("<div><p></p></div>"),e.id&&n.attr("data-id",e.id),a=!0),n.find("p").html(e.message),"err"===e.type&&e.details&&window.JSON&&(jQuery('<div class="debug" style="display:none"></div>').appendTo(n).text(JSON.stringify(e.details)),jQuery('<i class="dashicons dashicons-editor-help light"></i>').prependTo(n.find("p:first")).click(o).after(" ")),n.removeClass().addClass("updated wpmui-msg "+e["class"]),"err"===e.type&&n.addClass("error"),a&&(e.close&&(r=jQuery('<a href="#" class="wpmui-close">&times;</a>'),r.prependTo(n),r.click(s)),e.insert_after&&i.find(e.insert_after).length?(i=i.find(e.insert_after).first(),i.after(n)):i.prepend(n)),!0):!1):!1)},e.confirm=function(e){function t(){var t=jQuery(this),i=parseInt(t.data("key"));n.remove(),r.remove(),"function"==typeof e.callback&&e.callback(i)}var i,n,r,a,s,o,c,l;if(!e instanceof Object)return!1;if(void 0===e.message)return!1;for(e.modal=void 0===e.modal?!0:e.modal,e.layout=void 0===e.layout?"fixed":e.layout,e.parent=void 0===e.parent?d:e.parent,e.buttons=void 0===e.buttons?["OK"]:e.buttons,e.callback=void 0===e.callback?!1:e.callback,i=jQuery(e.parent),e.modal&&(n=jQuery('<div class="wmui-confirm-modal"></div>').css({position:e.layout}).appendTo(i)),r=jQuery('<div class="wpmui-confirm-box"></div>').css({position:e.layout}).appendTo(i),a=jQuery('<div class="wpmui-confirm-msg"></div>').html(e.message),s=jQuery('<div class="wpmui-confirm-btn"></div>'),l=!0,o=0;o<e.buttons.length;o+=1)c=jQuery("<button></button>").html(e.buttons[o]).addClass(l?"button-primary":"button-secondary").data("key",o).click(t).prependTo(s),l=!1;return a.appendTo(r),s.appendTo(r),!0},e.tooltip=function(e,i){var n,r;t();var a=function(t){var n=t.outerWidth(),r=t.outerHeight(),a=5,s=e.outerWidth(),o=e.outerHeight(),d={};switch(d.left=(s-n)/2,d.top=(o-r)/2,d[i.pos]="auto",i.pos){case"top":d.bottom=o+a;break;case"bottom":d.top=o+a;break;case"left":d.right=s+a;break;case"right":d.left=s+a}t.css(d)},s=function(e){var t=jQuery(this).closest(".wpmui-tip-box").find(".wpmui-tip");t.addClass("wpmui-visible"),t.show(),a(t),window.setTimeout(function(){a(t)},35)},o=function(e){var t=jQuery(this).closest(".wpmui-tip-box").find(".wpmui-tip");t.removeClass("wpmui-visible"),t.hide()},d=function(e){n.hasClass("wpmui-visible")?o.call(this,e):s.call(this,e)};return"string"==typeof i&&(i={content:i}),void 0===i.content?!1:(e=jQuery(e),e.length?(i.trigger=void 0===i.trigger?"hover":i.trigger.toString().toLowerCase(),i.pos=void 0===i.pos?"top":i.pos.toString().toLowerCase(),i["class"]=void 0===i["class"]?"":i["class"].toString().toLowerCase(),r=e.parent(),r.hasClass("wpmui-tip-box")||(r=e.wrap('<span class="wpmui-tip-box"></span>').parent().addClass(i["class"]+"-box")),n=r.find("> .wpmui-tip"),e.off(),n.length||(n=jQuery('<div class="wpmui-tip"></div>'),n.addClass(i["class"]).addClass(i.pos).appendTo(e.parent()).hide(),isNaN(i.width)||n.width(i.width)),"hover"===i.trigger?e.on("mouseenter",s).on("mouseleave",o):"click"===i.trigger&&e.on("click",d),n.html(i.content),!0):!1)},e.upgrade_tooltips=function(){var t=jQuery("[data-tooltip]");t.each(function(){var t=jQuery(this),i={content:t.attr("data-tooltip"),pos:t.attr("data-pos"),trigger:t.attr("data-trigger"),"class":t.attr("data-class"),width:t.attr("data-width")};e.tooltip(t,i)})},e.obj=function(e){var t={};if(e instanceof Object)t=e;else if(e instanceof Array)if("function"==typeof e.reduce)t=e.reduce(function(e,t,i){return e[i]=t,e},{});else for(var i=e.length-1;i>0;i-=1)void 0!==e[i]&&(t[i]=e[i]);else"string"==typeof e?t.scalar=e:"number"==typeof e?t.scalar=e:"boolean"==typeof e&&(t.scalar=e);return t},jQuery(function(){t()});var l=function(){function t(){k=jQuery('<div class="wpmui-wnd"></div>'),_=jQuery('<div class="wpmui-wnd-title"><span class="the-title"></span></div>'),T=jQuery('<a href="#" class="wpmui-wnd-close"><i class="dashicons dashicons-no-alt"></i></a>'),A=jQuery('<div class="wpmui-wnd-content"></div>'),_.appendTo(k),A.appendTo(k),T.appendTo(_),k.appendTo(d).hide(),r(),h=!1,s()}function r(){k&&(k.on("click",".wpmui-wnd-close",p.close),k.on("click","thead .check-column :checkbox",u),k.on("click","tfoot .check-column :checkbox",u),k.on("click","tbody .check-column :checkbox",f),jQuery(window).on("resize",l))}function a(){k&&(k.off("click",".wpmui-wnd-close",p.close),k.off("click",".check-column :checkbox",u),jQuery(window).off("resize",l))}function s(e,t){if(!k)return!1;e=e||m,t=t||v;var r={width:e,height:t,"margin-left":-1*(e/2),"margin-top":-1*(t/2)};if(_.find(".the-title").text(g),j){k.find(".buttons").remove(),k.removeClass(),k.addClass("wpmui-wnd no-buttons"),w instanceof jQuery?A.html(w.html()):A.html(jQuery(w).html());var a=A.find(".buttons");a.length&&(a.appendTo(k),k.removeClass("no-buttons")),k.addClass(y),j=!1}k.is(":visible")?k.animate(r,200):k.css(r),c instanceof jQuery&&c.off("click",o),h?(k.show(),b&&i(),c.on("click",o),S&&(S=!1,l())):(k.hide(),n())}function o(){return k?!c instanceof jQuery?!1:(c.off("click",o),void p.close()):!1}function l(){if(!k)return!1;var e=jQuery(this),t=e.innerWidth(),i=e.innerHeight(),n=m,r=v;m>t&&(n=t),v>i&&(r=i),s(n,r)}function u(e){var t=jQuery(this),i=t.prop("checked");e.shiftKey;t.closest("table").children("tbody, thead, tfoot").filter(":visible").children().children(".check-column").find(":checkbox").prop("checked",i)}function f(e){var t=jQuery(this),i=t.closest("tbody").find(":checkbox").filter(":visible").not(":checked");return t.closest("table").children("thead, tfoot").find(":checkbox").prop("checked",0===i.length),!0}var p=this,h=!1,b=!1,m=740,v=400,g="Window",w="",y="",j=!1,S=!1,Q=null,C=null,x=null,k=null,_=null,T=null,A=null,D="hidden";this.modal=function(e){return b=e?!0:!1,s(),p},this.size=function(e,t){var i=Math.abs(parseFloat(e)),n=Math.abs(parseFloat(t));return isNaN(i)||(m=i),isNaN(n)||(v=n),S=!0,s(),p},this.title=function(e){return g=e,s(),p},this.content=function(e){return w=e,S=!0,j=!0,s(),p},this.set_class=function(e){return y=e,j=!0,s(),p},this.onshow=function(e){return Q=e,p},this.onhide=function(e){return C=e,p},this.onclose=function(e){return x=e,p},this.loading=function(e){return e?k.addClass("wpmui-loading"):k.removeClass("wpmui-loading"),p},this.confirm=function(t){return"visible"!==D?p:!t instanceof Object?p:(t.layout="absolute",t.parent=k,e.confirm(t),p)},this.show=function(){return h=!0,S=!0,D="visible",s(),"function"==typeof Q&&Q.apply(p,[p.$()]),p},this.hide=function(){return h=!1,D="hidden",s(),"function"==typeof C&&C.apply(p,[p.$()]),p},this.close=function(){"closing"!==D&&(p.hide(),D="closing","function"==typeof x&&x.apply(p,[p.$()]),a(),k.remove(),k=null)},this.$=function(){return k},p=this,t()},u=function(e,t){function i(){e||"string"!=typeof window.ajaxurl||(e=window.ajaxurl),f=d.find("#wpmui_void"),f.length||(f=jQuery("<iframe></iframe>").attr("name","wpmui_void").attr("id","wpmui_void").css({width:1,height:1,display:"none",visibility:"hidden",position:"absolute",left:-1e3,top:-1e3}).hide().appendTo(d)),n(),u.reset()}function n(){var e=document.createElement("INPUT"),t=new XMLHttpRequest;e.type="file",v="files"in e,m=!!(t&&"upload"in t&&"onprogress"in t.upload),g=!!window.FormData}function r(){var e=new window.XMLHttpRequest;return m&&(e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;a(t)}else a(-1)},!1),e.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total;a(t)}else a(-1)},!1)),e}function a(e){m&&"function"==typeof h&&h(e)}function s(e,t,i){a(100),"function"==typeof b&&b(e,t,i)}function o(e,t){var i={};if(t=t&&g,p instanceof jQuery)if(p.find(".wp-editor-area").each(function(){var e=jQuery(this).attr("id"),t="#wp-"+e+"-wrap",i=jQuery(t),n=window.tinyMCE.get(e);n&&i.hasClass("tmce-active")&&n.save()}),t)i=new window.FormData(p[0]);else{i={};var n={},r={validate:/^[a-zA-Z][a-zA-Z0-9_-]*(?:\[(?:\d*|[a-zA-Z0-9_]+)\])*$/,key:/[a-zA-Z0-9_-]+|(?=\[\])/g,push:/^$/,fixed:/^\d+$/,named:/^[a-zA-Z0-9_-]+$/},a=function(e,t,i){return e[t]=i,e},s=function(e){return void 0===n[e]&&(n[e]=0),n[e]++};jQuery.each(p.serializeArray(),function(){if(r.validate.test(this.name)){for(var e,t=this.name.match(r.key),n=this.value,o=this.name;void 0!==(e=t.pop());)o=o.replace(new RegExp("\\["+e+"\\]$"),""),e.match(r.push)?n=a([],s(o),n):e.match(r.fixed)?n=a([],e,n):e.match(r.named)&&(n=a({},e,n));i=jQuery.extend(!0,i,n)}}),p.find("input[type=file]").each(function(){var e=jQuery(this),t=e.attr("name"),n=e.clone(!0)[0];i[":files"]=i[":files"]||{},i[":files"][t]=n})}else if("string"==typeof p){var o=p.split("&").map(function(e){return e.split("=",2)});i=t?new window.FormData:{};for(var d in o){var c=decodeURI(o[d][0]),l=decodeURI(o[d][1]);t?i.append(c,l):void 0!==i[c]?("object"!=typeof i[c]&&(i[c]=[i[c]]),i[c].push(l)):i[c]=l}}else if("object"==typeof p)if(t){i=new window.FormData;for(var u in p)p.hasOwnProperty(u)&&i.append(u,p[u])}else i=jQuery.extend({},p);return i instanceof window.FormData?i.append("action",e):i.action=e,i}function c(t,i){var n=o(t,!0),d={},c=null,l=!1;"json"!==i&&(i="text"),a(-1),d={url:e,type:"POST",dataType:"html",data:n,xhr:r,success:function(e,t,n){if(l=!0,c=e,"json"===i)try{c=jQuery.parseJSON(e)}catch(r){c={status:"ERR",data:e}}},error:function(e,t,i){l=!1,c=i},complete:function(e,t){c instanceof Object&&"ERR"===c.status&&(l=!1),s(c,l,e)}},n instanceof window.FormData&&(d.processData=!1,d.contentType=!1),jQuery.ajax(d)}function l(t,i){var n=o(t,!1),r=jQuery("<form></form>"),a="";for(var s in n)if(n.hasOwnProperty(s))if(":files"===s)for(var c in n[s]){var l=n[s][c];r.append(l)}else"action"===s?a=s+"="+n[s].toString():jQuery('<input type="hidden" />').attr("name",s).attr("value",n[s]).appendTo(r);a=-1===e.indexOf("?")?"?"+a:"&"+a,r.attr("action",e+a).attr("method","POST").attr("enctype","multipart/form-data").attr("target",i).hide().appendTo(d),r.submit()}var u=this,f=null,p={},h=null,b=null,m=!1,v=!1,g=!1;this.data=function(e){return p=e,u},this.extract_data=function(e){return p=e,o("",!1)},this.onprogress=function(e){return h=e,u},this.ondone=function(e){return b=e,u},this.reset=function(){return p={},h=null,b=null,u},this.load_text=function(e){return e=e||t,c(e,"text"),u},this.load_json=function(e){return e=e||t,c(e,"json"),u},this.load_http=function(e,i){return e=e||"wpmui_void",i=i||t,l(i,e),u},u=this,i()},f=function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";f.utf8_encode=function(e){if("string"!=typeof e)return e;e=e.replace(/\r\n/g,"\n");var t,i="",n=0;for(n;n<e.length;n++)t=e.charCodeAt(n),128>t?i+=String.fromCharCode(t):t>127&&2048>t?(i+=String.fromCharCode(t>>6|192),i+=String.fromCharCode(63&t|128)):(i+=String.fromCharCode(t>>12|224),i+=String.fromCharCode(t>>6&63|128),i+=String.fromCharCode(63&t|128));return i},f.utf8_decode=function(e){if("string"!=typeof e)return e;for(var t="",i=0,n=0;i<e.length;)n=e.charCodeAt(i),128>n?(t+=String.fromCharCode(n),i+=1):n>191&&224>n?(t+=String.fromCharCode((31&n)<<6|63&e.charCodeAt(i+1)),i+=2):(t+=String.fromCharCode((15&n)<<12|(63&e.charCodeAt(i+1))<<6|63&e.charCodeAt(i+2)),i+=3);return t},f.base64_encode=function(t){if("string"!=typeof t)return t;t=f.utf8_encode(t);for(var i,n,r,a,s,o,d,c="",l=0;l<t.length;)i=t.charCodeAt(l++),n=t.charCodeAt(l++),r=t.charCodeAt(l++),a=i>>2,s=(3&i)<<4|n>>4,o=(15&n)<<2|r>>6,d=63&r,isNaN(n)?o=d=64:isNaN(r)&&(d=64),c+=e.charAt(a)+e.charAt(s)+e.charAt(o)+e.charAt(d);return c},f.base64_decode=function(t){if("string"!=typeof t)return t;t.replace(/[^A-Za-z0-9\+\/\=]/g,"");for(var i,n,r,a,s,o,d,c="",l=0;l<t.length;)a=e.indexOf(t.charAt(l++)),s=e.indexOf(t.charAt(l++)),o=e.indexOf(t.charAt(l++)),d=e.indexOf(t.charAt(l++)),i=a<<2|s>>4,n=(15&s)<<4|o>>2,r=(3&o)<<6|d,c+=String.fromCharCode(i),64!==o&&(c+=String.fromCharCode(n)),64!==d&&(c+=String.fromCharCode(r));return f.utf8_decode(c)}}}(window.wpmUi=window.wpmUi||{}),r("wpmuui",function(){}),t.prototype.getID=function(){return this.id.split("\\").join("")},window.csSidebars=null,function(e){window.csSidebars={sidebars:[],sidebar_prefix:"pt-cs-",edit_form:null,delete_form:null,right:null,extras:null,action_handlers:{},init:function(){"undefined"!=typeof csSidebarsData&&csSidebars.initControls().initScrollbar().initTopTools().initSidebars().initToolbars().initColumns()},initControls:function(){return csSidebars.right=jQuery("#widgets-right"),csSidebars.extras=jQuery("#cs-widgets-extra"),null===csSidebars.edit_form&&(csSidebars.edit_form=csSidebars.extras.find(".cs-editor").clone(),csSidebars.extras.find(".cs-editor").remove()),null===csSidebars.delete_form&&(csSidebars.delete_form=csSidebars.extras.find(".cs-delete").clone(),csSidebars.extras.find(".cs-delete").remove()),jQuery("#cs-title-options").detach().prependTo(csSidebars.right),jQuery("#screen-meta, #screen-meta-links, #icl_als_help_popup").detach().prependTo(csSidebars.right),csSidebars},initScrollbar:function(){var e=jQuery(".widget-liquid-right"),t=jQuery(window),i=null;csSidebars.right.addClass("overview").wrap('<div class="viewport" />'),e.height(t.height()).prepend('<div class="scrollbar"><div class="track"><div class="thumb"><div class="end"></div></div></div></div>').tinyscrollbar(),i=jQuery(".viewport").height(t.height()-32);var n=function(){e.data("plugin_tinyscrollbar").update("relative")};return t.resize(function(){e.height(t.height()),i.height(t.height()-32),n()}),e.click(function(){window.setTimeout(n,400)}),t.on("cs-resize",n),e.hover(function(){e.find(".scrollbar").fadeIn()},function(){e.find(".scrollbar").fadeOut()}),window.setTimeout(n,1e3),csSidebars},initColumns:function(){var e=csSidebars.right.find(".sidebars-column-1"),t=csSidebars.right.find(".sidebars-column-2"),i=jQuery('<div class="cs-title"><h3></h3></div>'),n=csSidebars.right.find(".widgets-holder-wrap");t.length||(t=jQuery('<div class="sidebars-column-2"></div>'),t.appendTo(csSidebars.right)),i.find("h3").append('<span class="cs-title-val"></span>'),i.clone().prependTo(e).find(".cs-title-val").text(csSidebarsData.custom_sidebars),i.clone().prependTo(t).find(".cs-title-val").text(csSidebarsData.theme_sidebars),e=jQuery('<div class="inner"></div>').appendTo(e),t=jQuery('<div class="inner"></div>').appendTo(t),n.each(function(){var i=jQuery(this),n=i.find(".widgets-sortables");csSidebars.isCustomSidebar(n)?i.appendTo(e):i.appendTo(t)})},initSidebars:function(){return csSidebars.right.find(".widgets-sortables").each(function(){var e,t,i=!1,n=jQuery(this),r=n.attr("id");if(n.data("cs-init")!==!0)if(n.data("cs-init",!0),csSidebars.isCustomSidebar(this))t=csSidebars.add(r,"custom");else{t=csSidebars.add(r,"theme");for(e in csSidebarsData.replaceable)if(csSidebarsData.replaceable.hasOwnProperty(e)&&csSidebarsData.replaceable[e]===r){i=!0;break}csSidebars.setReplaceable(t,i,!1)}}),csSidebars},initTopTools:function(){var e=jQuery(".btn-create-sidebar"),t={};return e.click(function(){t.id="",t.title=csSidebarsData.title_new,t.button=csSidebarsData.btn_new,t.description="",t.name="",csSidebars.showEditor(t)}),csSidebars},initToolbars:function(){var e=function(e){var t=jQuery(e.target).closest(".cs-tool"),i=t.data("action"),n=csSidebars.getIdFromEditbar(t),r=csSidebars.find(n);return!csSidebars.handleAction(i,r)};return csSidebars.registerAction("edit",csSidebars.showEditor),csSidebars.registerAction("delete",csSidebars.showRemove),csSidebars.registerAction("replaceable",csSidebars.setReplaceable),csSidebars.right.on("click",".cs-tool",e),csSidebars},handleAction:function(e,t){return"function"==typeof csSidebars.action_handlers[e]?!!csSidebars.action_handlers[e](t):!1},registerAction:function(e,t){csSidebars.action_handlers[e]=t},showAjaxError:function(e){var t={};t.message=csSidebarsData.ajax_error,t.details=e,t.parent="#widgets-right",t.insert_after="#cs-title-options",t.id="editor",t.type="err",wpmUi.message(t)},showEditor:function(e){var i=null,n=null;e instanceof t&&(e={id:e.getID(),title:csSidebarsData.title_edit.replace("[Sidebar]",e.name),button:csSidebarsData.btn_edit});var r=function(){i.$().removeClass("csb-has-more"),i.size(null,215)},a=function(){i.$().addClass("csb-has-more"),i.size(null,545)},s=function(){jQuery(this).prop("checked")?a():r()},o=function(e,t,n){return i.loading(!1),e?t?(void 0!==e.sidebar&&(e=e.sidebar),void 0!==e.id&&i.$().find("#csb-id").val(e.id),void 0!==e.name&&i.$().find("#csb-name").val(e.name),void 0!==e.description&&i.$().find("#csb-description").val(e.description),void 0!==e.before_title&&i.$().find("#csb-before-title").val(e.before_title),void 0!==e.after_title&&i.$().find("#csb-after-title").val(e.after_title),void 0!==e.before_widget&&i.$().find("#csb-before-widget").val(e.before_widget),void 0!==e.after_widget&&i.$().find("#csb-after-widget").val(e.after_widget),void(void 0!==e.button&&i.$().find(".btn-save").text(e.button))):(i.close(),csSidebars.showAjaxError(e),!1):!1},d=function(e,t,n){var r,a={};i.loading(!1).close(),a.message=e.message,a.parent="#widgets-right",a.insert_after="#cs-title-options",a.id="editor",t?"update"===e.action?(r=csSidebars.find(e.data.id),csSidebars.updateSidebar(r,e.data)):"insert"===e.action&&csSidebars.insertSidebar(e.data):a.type="err",wpmUi.message(a)},c=function(){var e=i.$().find("form");return i.loading(!0),n.reset().data(e).ondone(d).load_json(),!1};return i=wpmUi.popup().modal(!0).title(e.title).onshow(r).content(csSidebars.edit_form),r(),o(e,!0,null),n=wpmUi.ajax(null,"cs-ajax"),e.id&&(i.loading(!0),n.reset().data({"do":"get",sb:e.id}).ondone(o).load_json()),i.show(),i.$().find("#csb-name").focus(),i.$().on("click","#csb-more",s),i.$().on("click",".btn-save",c),i.$().on("click",".btn-cancel",i.close),!0},updateSidebar:function(e,t){return e.sb.find(".sidebar-name h3").text(t.name),e.sb.find(".sidebar-description").html('<p class="description"></p>').find(".description").text(t.description),csSidebars},insertSidebar:function(e){var t=jQuery('<div class="widgets-holder-wrap"></div>'),i=jQuery('<div class="widgets-sortables ui-sortable"></div>'),n=jQuery('<div class="sidebar-name"><div class="sidebar-name-arrow"><br></div><h3></h3></div>'),r=jQuery('<div class="sidebar-description"></div>'),a=csSidebars.right.find(".sidebars-column-1 > .inner:first");return i.attr("id",e.id),n.find("h3").text(e.name),r.html('<p class="description"></p>').find(".description").text(e.description),n.appendTo(i),r.appendTo(i),i.appendTo(t),t.prependTo(a),jQuery("#widgets-right .sidebar-name").unbind("click"),jQuery("#widgets-left .sidebar-name").unbind("click"),jQuery(document.body).unbind("click.widgets-toggle"),jQuery(".widgets-chooser").off("click.widgets-chooser").off("keyup.widgets-chooser"),jQuery("#available-widgets .widget .widget-title").off("click.widgets-chooser"),jQuery(".widgets-chooser-sidebars").empty(),window.wpWidgets.init(),csSidebars.initSidebars(),csSidebars},showRemove:function(e){var t=null,i=null,n=e.getID(),r=e.name,a=function(e){e.find(".name").text(r)},s=function(){t.loading(!1).close()},o=function(e,i,r){var a={};t.loading(!1).close(),a.message=e.message,a.parent="#widgets-right",a.insert_after="#cs-title-options",a.id="editor",i?(csSidebars.right.find("#"+n).closest(".widgets-holder-wrap").remove(),csSidebars.remove(n)):a.type="err",wpmUi.message(a)},d=function(){t.loading(!0),i.reset().data({"do":"delete",sb:n}).ondone(o).load_json()};return t=wpmUi.popup().modal(!0).size(null,160).title(csSidebarsData.title_delete).content(csSidebars.delete_form).onshow(a).show(),i=wpmUi.ajax(null,"cs-ajax"),t.$().on("click",".btn-cancel",s),t.$().on("click",".btn-delete",d),!0},setReplaceable:function(e,t,i){var n,r=csSidebars.right.find(".sidebars-column-2 .widgets-holder-wrap"),a=jQuery(e.sb).closest(".widgets-holder-wrap"),s=a.find(".cs-toolbar .chk-replaceable"),o=a.find(".replace-marker"),d=(a.find(".cs-toolbar .btn-replaceable"),function(e,t,i){e instanceof Object&&"object"==typeof e.replaceable&&(csSidebarsData.replaceable=wpmUi.obj(e.replaceable),r.find(".widgets-sortables").each(function(){var e=!1,t=jQuery(this),i=t.attr("id"),n=csSidebars.find(i);for(var r in csSidebarsData.replaceable)if(csSidebarsData.replaceable.hasOwnProperty(r)&&csSidebarsData.replaceable[r]===i){e=!0;break}csSidebars.setReplaceable(n,e,!1)})),r.find(".cs-toolbar .chk-replaceable").prop("disabled",!1),r.find(".cs-toolbar .btn-replaceable").removeClass("wpmui-loading")});return void 0===t&&(t=s.prop("checked")),void 0===i&&(i=!0),s.data("active")===t?!1:(s.data("active",t),s.prop("checked",t),t?(o.length||jQuery("<div></div>").appendTo(a).attr("data-label",csSidebarsData.lbl_replaceable).addClass("replace-marker"),a.addClass("replaceable")):(o.remove(),a.removeClass("replaceable")),i&&(r.find(".cs-toolbar .chk-replaceable").prop("disabled",!0),r.find(".cs-toolbar .btn-replaceable").addClass("wpmui-loading"),n=wpmUi.ajax(null,"cs-ajax"),n.reset().data({"do":"replaceable",state:t,sb:e.getID()}).ondone(d).load_json()),!1)},find:function(e){return csSidebars.sidebars[e]},add:function(e,i){return csSidebars.sidebars[e]=new t(e,i),csSidebars.sidebars[e]},remove:function(e){delete csSidebars.sidebars[e]},isCustomSidebar:function(e){var t=jQuery(e).attr("id"),i=t.substr(0,csSidebars.sidebar_prefix.length);return i===csSidebars.sidebar_prefix},addIdToLabel:function(e,t){if(!0!==e.data("label-done")){var i=e.attr("for");e.attr("for",i+t),e.find(".has-label").attr("id",i+t),e.data("label-done",!0)}},getIdFromEditbar:function(e){var t=e.closest(".widgets-holder-wrap"),i=t.find(".widgets-sortables:first"),n=i.attr("id");return n}},jQuery(function(e){e("#csfooter").hide(),e("#widgets-right").length>0&&csSidebars.init(),e(".defaultsContainer").hide(),e("#widgets-right .widgets-sortables").on("sort",function(t,i){e("#widgets-right").top;i.position.top=-e("#widgets-right").css("top")})})}(jQuery),r("ptcs",["wpmuui"],function(){}),n.config({paths:{jquery:"assets/js/src/fix.jquery",ptcs:"assets/js/src/pt-custom-sidebars",wpmuui:"assets/js/src/wpmu-ui"},shim:{ptcs:{deps:["wpmuui"]}}}),n(["jquery","wpmuui","ptcs"]),r("assets/js/main",function(){})}();